
<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    
<meta name="SiteName" content="智慧国际机场"/>
<meta name="SiteDomain" content=""/>
<meta name="SiteIDCode" content="N000014366"/>
<meta name="ColumnName" content="美食每刻" />
<meta name="ColumnDescription" content=""/>
<meta name="ColumnKeywords" content=""/>
<meta name="ColumnType" content=""/>

<meta name="others" content="页面生成时间 2023-04-28 12:11:35" />
<title>
    美食每刻-智慧国际机场
    </title>
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1" name="viewport" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/common.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/swiper.min.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/./layui/css/layui.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/layui-theme-custom.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/aos.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/jquery.mmenu.all.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/jquery.mCustomScrollbar.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/jquery.running.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/newcss.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/xunpan.css" />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <link rel="stylesheet" href="/sfsairport/xhtml/css/style.css" />
    <link rel="stylesheet" href="/sfsairport/xhtml/css/others.css" />
    <link rel="stylesheet" href="/sfsairport/button/button.css">
    <script type="text/javascript" src="/sfsairport/xhtml/js/jquery.min.js"></script>
    <script type="text/javascript" src="/sfsairport/xhtml/js/swiper.min.js"></script>
    <script type="text/javascript" src="/sfsairport/xhtml/js/layer/layer.js"></script>
    <script type="text/javascript" src="/sfsairport/xhtml/js/imagesloaded.pkgd.min.js"></script>
    <script type="text/javascript" src="/sfsairport/xhtml/js/jquery.mmenu.min.all.js"></script>
    <script type="text/javascript" src="/sfsairport/xhtml/js/jquery.running.min.js"></script>
    <script src="/sfsairport/xhtml/js/common.js"></script>
    <script src="/sfsairport/xhtml/js/jquery.pagination.js"></script>
    <script type="text/javascript" >
        $(function(){
            var _code = "msmk";
            $("#ej-nav li").each(function(){
                if($(this).attr("data-code") === _code){
                    $(this).addClass("cur");
                }
            })
        })
    </script>
</head>

<body>
    <div id="page">
        <header class="header">
            <script type="text/javascript" src="/sfsairport/xhtml/./layui/layui.js"></script>
<div class="header-top inner-20">
    <div class="m-width-1400 fixed">
        <div class="left-text fixed">
            <div class="scoll-text">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                    
                      <div class="swiper-slide">
                          <a>欢迎来到智慧航空管理系统,很高兴为您服务</a>
                      </div>

                     

                </div>
            </div>
            </div>
        </div>
        <div class="top-lx">
            该项目制作组：
            <a>
                吴承旭、马天扬、金俊河、张朋达、张志韩
            </a>
        </div>
    </div>
</div>
<!-- top--end -->
<div class="header-box m-width-1400 fixed">
    <div class="inner-20">
        <div class="logo">
            <a href="/sfsairport/index.html">
                <!-- <img src="/sfsairport/xhtml/./images/logo.svg"> -->
                <img src="/sfsairport/xhtml/./images/layer-logo.png">
                <!--  -->
                <!-- <img src="/sfsairport/xhtml/./images/logo-ny.svg" class="wap-logo"> -->
                <img src="/sfsairport/xhtml/./images/layer-logo.png" class="wap-logo">
            </a>
        </div>
        <div class="hover-search">
            <div class="close-btn">
                <a id="sear-close" class="iconfont iconguanbi"></a>
            </div>
            
            <div class="search-head-form">
                <form action="/search4/s" method="post" name="form1" target="_blank" id="form1">
                <input placeholder="搜索" name="searchWord" type="text" id="searchWord" size="50"/>
                <button type="submit" name="button" id="button" value="">
                    <i class="iconfont iconsousuo"></i>
                </button>
                <input name="uc" type="hidden" id="uc" value="1" />
                <input name="siteCode" type="hidden" id="siteCode" size="50" value="N000014366" />
                <input name="column" type="hidden" id="siteCode" size="50" value="全部" />
                </form>
            </div>
            
            <!-- form--end -->
        </div>
        <!-- hover-search--end0 -->
        
        <div class="nav-right fixed">
              
              
            <div class="top-notice">
                <div class="typename"></div>
                
            </div>
            <!-- notice--end -->
        </div>
        <!-- nav-right--end -->
        <div class="pc-nav">
            <div class="nav">
                <ul class="fixed">
                    <li><a href="/sfsairport/index.html">首页</a></li>
                    <li><a href="/sfsairport/hbxx/Departure_Arrival.html"  target="_self">航班信息</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">航班信息</div>
                                <dl>
                                    <dd>
                                        <a href="/sfsairport/hbxx/Departure_Arrival.html"><i class="iconfont icongengduo"></i>出发航班</a>
                                    </dd>
                                    
                                    <dd class="hidegp">
                                        <a href="/sfsairport/gp/Airlines.html"><i class="iconfont icongengduo"></i>购票</a>
                                    </dd>
                                    
                                </dl>
                            </div>
                        </div>
                    </li>
                    <li><a href="/sfsairport/tcczy/dlm_tt.html"  target="_self">停车管理</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">停车管理</div>
                                <dl>
                                    
                                    <dd>
                                        <a href="/sfsairport/tcczy/dlm_tt.html"><i class="iconfont icongengduo"></i>停车场指引</a>
                                    </dd>
                                    
                                    
                                </dl>
                            </div>
                        </div>
                    </li>
                    <li class="hidejcbx"><a href="/sfsairport/jcbx/show-repair.html"  target="_self">机场报修</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">机场报修</div>
                                <dl>
                                    
                                    <dd>
                                        <a href="/sfsairport/jcbx/show-repair.html"><i class="iconfont icongengduo"></i>显示报修信息</a>
                                    </dd>
                                    
                                    
                                </dl>
                            </div>
                        </div>
                    </li>
                    <li><a href="/sfsairport/msmk/Dining.html"  target="_self">机场商业</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">机场商业</div>
                                <dl>
                                    <dd>
                                        <a href="/sfsairport/msmk/Dining.html"><i class="iconfont icongengduo"></i>美食每刻</a>
                                    </dd>
                                        
                                    
                                </dl>
                            </div>
                        </div>
                    </li>
                    <li class="hideyhsc"><a href="/sfsairport/yhsc/introduction.html"  target="_self">用户手册</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">用户手册</div>
                                <dl>
                                    <dd>
                                        <a href="/sfsairport/yhsc/introduction.html"><i class="iconfont icongengduo"></i>用户手册</a>
                                    </dd>
                                        
                                    
                                </dl>
                            </div>
                        </div>
                    </li>
                    <li class="hidemy"><a href="/sfsairport/wd/gkgrzx/CustomerPersonalCenter.html"  target="_self">我的</a>
                        <div class="erji ">
                            <div class="erji-menu fixed">
                                <div class="tit">我的</div>
                                <dl>
                                    <dd class="hidegkgrzx">
                                        <a href="/sfsairport/wd/gkgrzx/CustomerPersonalCenter.html"><i class="iconfont icongengduo"></i>顾客个人中心</a>
                                    </dd>
                                    <dd class="hidesjgrzx">
                                        <a href="/sfsairport/wd/sjgrzx/shoperAdd.html"><i class="iconfont icongengduo"></i>商家个人中心</a>
                                    </dd>
                                    <dd class="hideglzgrzx">
                                        <a href="/sfsairport/wd/glygrzx/manager.html"><i class="iconfont icongengduo"></i>管理者个人中心</a>
                                    </dd>
                                    <dd class="hidehsgrzx">
                                        <a href="/sfsairport/wd/hsgrzx/Add.html"><i class="iconfont icongengduo"></i>航司个人中心</a>
                                    </dd>
                                    <dd class="hidegzrygrzx">
                                        <a href="/sfsairport/wd/gzrygrzx/new-repair.html"><i class="iconfont icongengduo"></i>工作人员个人中心</a>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </li>
                    

                </ul>
                    
            </div>
        </div>
        <!--手机端导航按钮 start-->
        <a href="javascript:;" class="btn-nav">
            <span class="icon-bar top"></span>
            <span class="icon-bar middle"></span>
            <span class="icon-bar bottom"></span>
        </a>
        <div class="nav-box">
            <nav id="menuWapw">
                <ul class="fixed">
                    <li><span><a href="/sfsairport/index.html">首页</a></span></li>
                    <li class="cur">
                        <span><a href="/sfsairport/hbxx/Departure_Arrival.html"  target="_self">航班信息</a><em><i class="iconfont iconxiala"></i></em></span>

                        <ul>
                            <li><span>
                                <a href="/sfsairport/hbxx/Departure_Arrival.html"  target="_self">出发航班</a></span>
                            </li>
                            
                            <li class="hidegp"><span>
                                <a href="/sfsairport/gp/Airlines.html"  target="_self">购票</a></span>
                            </li>
                        </ul>
                   
                    </li>
                    <li>
                        <span><a href="/sfsairport/tcczy/dlm_tt.html"  target="_self">停车管理</a><em><i
                                    class="iconfont iconxiala"></i></em></span>
                        <ul>
                            
                            <li><span>
                                <a href="/sfsairport/tcczy/dlm_tt.html"  target="_self">停车场指引</a></span>
                            </li>
                           
                        </ul>
                    </li>
                    <li class="hidejcbx">
                        <span><a href="/sfsairport/jcbx/show-repair.html"  target="_self">机场报修</a><em><i
                                    class="iconfont iconxiala"></i></em></span>
                        <ul>
                            <li><span>
                                <a href="/sfsairport/jcbx/new-repair.html"  target="_self">新建报修信息</a></span>
                            </li>
                            <li><span>
                                <a href="/sfsairport/jcbx/repair-info.html"  target="_self">管理报修信息</a></span>
                            </li>
                            <li><span>
                                <a href="/sfsairport/jcbx/show-repair.html"  target="_self">显示报修信息</a></span>
                            </li>
                           
                        </ul>
                    </li>
                    <li>
                        <span><a href="/sfsairport/msmk/Dining.html"  target="_self">机场商业</a><em><i
                                    class="iconfont iconxiala"></i></em></span>
                        <ul>
                            <li><span>
                                <a href="/sfsairport/msmk/Dining.html"  target="_self">美食每刻</a></span>
                            </li>
                             
                        </ul>
                    </li>
                    <li class="hideyhsc">
                        <span><a href="/sfsairport/yhsc/introduction.html"  target="_self">用户手册</a><em><i
                                    class="iconfont iconxiala"></i></em></span>
                        <ul>
                            <li><span>
                                <a href="/sfsairport/yhsc/introduction.html"  target="_self">用户手册</a></span>
                            </li>
                             
                        </ul>
                    </li>
                    <li class="hidemy">
                        <span><a href="/sfsairport/wd/gkgrzx/CustomerPersonalCenter.html"  target="_self">我的</a><em><i
                                    class="iconfont iconxiala"></i></em></span>
                        <ul>
                            <li class="hidegkgrzx"><span>
                                <a href="/sfsairport/wd/gkgrzx/CustomerPersonalCenter.html"  target="_self">顾客个人中心</a></span>
                            </li>
                            <li class="hidesjgrzx"><span>
                                <a href="/sfsairport/wd/sjgrzx/shoperAdd.html"  target="_self">商家个人中心</a></span>
                            </li>
                            <li class="hideglzgrzx"><span>
                                <a href="/sfsairport/wd/glygrzx/manager.html"  target="_self">管理者个人中心</a></span>
                            </li>
                            <li class="hidehsgrzx"><span>
                                <a href="/sfsairport/wd/hsgrzx/Add.html"  target="_self">航司个人中心</a></span>
                            </li>
                            <li class="hidegzrygrzx"><span>
                                <a href="/sfsairport/wd/gzrygrzx/new-repair.html"  target="_self">工作人员个人中心</a></span>
                            </li>
                        </ul>
                    </li>
                   
                    
                   
                </ul>
            </nav>
                <!-- <div class="wap-top-lx">
                <i class="iconfont iconicon-kefu"></i>24小时服务热线：
                <a href="tel:0755-23456789">
                    0755-23456789
                </a>
            </div> -->
        </div>
        <!--手机端导航按钮 end-->
    </div>
</div> 
        </header>
        <!--首页banner start-->
        <div class="banner banner-ny">
            <img src="/sfsairport/xhtml/./images/dining-banner.jpg" />
            <div class="ny-banner-content m-width-1400">
                <div class="text">
                    <span>机场商业</span>
                    <br>
                    <h1>美食每刻</h1>
                </div>
            </div>
        </div>
        <!--首页banner end-->
        <section class="main">
            <div class="main-box ">
                <div class="tran-tab-item border inner-20">
                    <ul class="m-width-1400 fixed" id="ej-nav">
                        <!-- <li data-code="msmk">
                            <a href="/sfsairport/msmk/Dining.html">
                                <span>美食每刻</span>
                            </a>
                        </li> -->
                        
                    </ul>
                </div>
                <!-- flight-tab-item--end -->
                <div class="conetent-shoping">
                    <div class="m-width-1400">
                        <div class="inner-20 fixed">
                            <div class="filter-grid  layui-form shop-filter-wap">
                                <div class="shop-filter">
                                    <div class="filter-line filter-search">
                                        <input id="keyword-phone" placeholder="请输入关键字进行搜索" value="" />
                                        <button id="searchBtn-phone"><i class="iconfont iconsousuo"></i></button>
                                    </div>
                                </div>
                                
                                <div class="filter-block">
                                    <i class="iconfont iconziyuan"></i>
                                    <!-- <i class="arrow"></i> -->
                                    <div class="layui-input-block">
                                        <select class="select" lay-filter="locationSelect" id="locationSelect">
                                            <option selected="selected" value="ALL">全部</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- filter-block--end -->
                                <div class="filter-block">
                                    <i class="iconfont iconmenu"></i>
                                    <!-- <i class="arrow"></i> -->
                                    <div class="layui-input-block">
                                        <select class="select" lay-filter="categorySelect" id="categorySelect">
                                            <option selected="selected" value="ALL">全部</option>
                                            <option value="咖啡/甜品/烘焙">咖啡/甜品/烘焙</option>
                                            <option value="特色餐饮">特色餐饮</option>
                                            <option value="中式正餐/中式快餐">中式正餐/中式快餐</option>
                                            <option value="西式简餐/西式快餐">西式简餐/西式快餐</option>
                                            
                                        </select>
                                     
                                    </div>
                                </div>
                                <!-- filter-block--end -->
                            </div>
                            <div class="shop-filter shop-filter-pc">
                                <div class="filter-line filter-search">
                                    <input id="keyword-pc" placeholder="请输入关键字进行搜索" value="" />
                                        <button id="searchBtn-pc" style="padding-bottom: 220px;"><i class="iconfont iconsousuo"></i></button>
                                </div>
                                <div class="filter-line">
                                    <label>商家</label>
                                    <div class="filter-type1">
                                        <dl class="fixed" id="location-list">
                                            <dd class="all cur" data-Location="ALL"><a><span>全部</span></a></dd>
                                        </dl>
                                    </div>
                                </div>
                                <div class="filter-line">
                                    <label>类别</label>
                                    <div class="filter-type2">
                                        <dl class="fixed">
                                            <dd data-Category="ALL" class="all cur"><a><span>全部</span></a></dd>
                                            <dd data-Category="咖啡/甜品/烘焙"><a><i class="iconfont iconshipin-kafei"></i><span>咖啡/甜品/烘焙</span></a></dd>
                                            <dd data-Category="特色餐饮"><a><i class="iconfont iconmianfeixiaochi"></i><span>特色餐饮</span></a></dd>
                                            <dd data-Category="中式正餐/中式快餐"><a><i class="iconfont iconhadiancanxican"></i><span>中式正餐/中式快餐</span></a></dd>
                                            <dd data-Category="西式简餐/西式快餐"><a><i class="iconfont iconzhongcan"></i><span>西式简餐/西式快餐</span></a></dd>
                                            
                                        </dl>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- filter--end -->
                            
                        </div>
                        <!-- 20--end -->
                    </div>
                    <div class="filter-grid fixed">

                        <div class="filter-block w100 ser-title" style="display: none;">
                            <div class="layui-input-block">
                                <input id="buyPlace" type="text" name="keyword" lay-verify="title" autocomplete="off"
                                    placeholder="请输入想要送达的位置" class="layui-input">
                                <input id="buyTime" type="text" name="keyword" lay-verify="title" autocomplete="off"
                                    placeholder="请选择想要送达的时间" class="layui-input">
                                <button id="refineBuy" type="button" class="layui-btn" style="margin-top: 0px;">确认购买</button>
                            </div>
                        </div>
                        <!-- filter-block--end -->
                    </div>
                    <!-- 1440 -->
                    <div class="shop-list-grid">
                        <div class="m-width-1400">
                            <div class="inner-20">
                                <div class="shop-mendian-list">
                                    <ul id="shop-list-data" style="display: none;">

                                    </ul>
                                      <ul class="fixed" id="shop-list">
                                     
                                        
                                    </ul>

                                    <div class="page-box">
                                        <div class="page-inner">
                                            
                                            <div class="page-list" id="pagination-num">
                                           
                                            </div>
                                        </div>
                    
                                    </div>
                                </div>
                                <!-- shop-mendian-list--end -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- guides content--end -->
            </div>
            <!-- main--box -->
        </section>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script>
            var today = new Date();
            flatpickr("#buyTime", {
                dateFormat: "Y-m-d H:i:S", // 设置日期格式
                enableTime: true, // 启用时间选择
                time_24hr: true ,// 使用24小时制
                minDate : today
            });
        </script>
        <script>

            var locationList = document.getElementById('location-list');
            var renderedLocations = []; // 跟踪已渲染的位置

            //渲染商家块
            function renderLocation(location) {
                // 检查位置是否已经被渲染过
                if (renderedLocations.includes(location)) {
                    return; // 跳过重复的位置
                }

                var dd = document.createElement('dd');
                dd.setAttribute('data-Location', location);

                var a = document.createElement('a');
                var span = document.createElement('span');
                span.innerText = location;

                a.appendChild(span);
                dd.appendChild(a);
                locationList.appendChild(dd);

                renderedLocations.push(location); // 将已渲染的位置添加到数组中
            };

            function renderShop(){
                var xhr = new XMLHttpRequest();
                console.log('我进入renderShop了')
                xhr.open("POST", "http://101.42.178.149/api/shop/showShop",false);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            // 请求成功
                            console.log('准备渲染')
                            var responseData = JSON.parse(xhr.responseText);
                            storeInfoArray = responseData.stores;
                            //addNew////////////////////
                            for (const storeInfo of storeInfoArray) {
                                renderLocation(storeInfo);
                                console.log('渲染中')
                            }
                            ///////////////////////////    
                        }
                    }
                };
                xhr.send();
            }

           



            function sendDataToBackend(data){
                var xhr = new XMLHttpRequest();
                console.log('我进入renderShop了')
                xhr.open("POST", "http://101.42.178.149/api/shop/showProducts",false);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            //请求成功
                            console.log('准备渲染')
                            var responseData = JSON.parse(xhr.responseText);
                            storeInfoArray = responseData.details;
                            const targetElement = document.getElementById('shop-list');

                            // 生成HTML元素节点列表
                            const generatedElements = generateStoreElements(storeInfoArray);

                            // 将生成的块插入到目标位置中
                            for (const element of generatedElements) {
                                targetElement.appendChild(element);
                            }
                        }
                    }
                };
                xhr.send(JSON.stringify(data));
            }

            renderShop();

            var data = {
                store:"ALL",
                category:"ALL"
            }

            sendDataToBackend(data);

            document.querySelectorAll('.filter-type1 dd').forEach(option => {
                option.addEventListener('click', function() {
                    console.log('我进入点击事件了!!!!!!!!!!!!!')
                    // 移除其他位置的cur类
                    document.querySelectorAll('.filter-type1 dd').forEach(item => {
                        item.classList.remove('cur');
                    });

                    // 为点击的位置添加cur类
                    option.classList.add('cur');

                    // 获取商家选项值
                    storeValue = option.getAttribute('data-Location');
                    // 创建包含两个选项值的对象
                    data.store = storeValue
                    shopList = document.getElementById('shop-list');
                    shopList.innerHTML = '';
                    sendDataToBackend(data);
                });
            });

            // 监听类别选项的点击事件
            document.querySelectorAll('.filter-type2 dd').forEach(option => {
                option.addEventListener('click', function() {
                    // 移除其他位置的cur类
                    document.querySelectorAll('.filter-type2 dd').forEach(item => {
                        item.classList.remove('cur');
                    });

                    // 为点击的位置添加cur类
                    option.classList.add('cur');
                    console.log('cur:'+option)

                    // 获取类别选项值
                    categoryValue = option.getAttribute('data-Category');
                    // 创建包含两个选项值的对象
                    data.category = categoryValue
                    shopList = document.getElementById('shop-list');
                    shopList.innerHTML = '';
                    sendDataToBackend(data);
                });
            });

            console.log('data是:'+data)
            

            var productionList = document.getElementById('shop-list')
            var searchBtn = document.getElementById("searchBtn-pc");

            // 添加点击事件监听器
            searchBtn.addEventListener("click", function() {
                // 获取输入框的值
                var keyword = document.getElementById("keyword-pc").value;
                productionList.innerHTML = ''
                // 调用函数传递输入框的内容
                fetchStore(keyword);
            });

            function fetchStore(keyword) {
                
                console.log("fetchStore 函数被调用，关键字为：" + keyword);

                var xhr = new XMLHttpRequest();
                console.log('我进入renderShop了')
                xhr.open("POST", "http://101.42.178.149/api/shop/showProducts",false);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            //请求成功
                            console.log('准备渲染')
                            var responseData = JSON.parse(xhr.responseText);
                            storeInfoArray = responseData.details;
                            const targetElement = document.getElementById('shop-list');

                            // 生成HTML元素节点列表
                            const generatedElements = generateStoreElementsByKeyword(storeInfoArray,keyword);

                            // 将生成的块插入到目标位置中
                            for (const element of generatedElements) {
                                targetElement.appendChild(element);
                            }
                        }
                    }
                };
                xhr.send(JSON.stringify(data));

            }

            function generateStoreElementsByKeyword(storeInfoArray,keyword) {
                
                const storeElements = [];

                for (const storeInfo of storeInfoArray) {

                    if(!storeInfo.name.includes(keyword)){
                        continue;
                    }
                    // 创建 <li> 元素
                    const li = document.createElement('li');

                    // 设置 <li> 元素的 data 属性
                    li.setAttribute('data-name', storeInfo.name);
                    li.setAttribute('data-Location', storeInfo.store);
                    li.setAttribute('data-Category', storeInfo.category);
                    
                    renderLocation(storeInfo.store)
                    
                    // 创建 <div class="imgshow"> 元素
                    const imgDiv = document.createElement('div');
                    imgDiv.className = 'imgshow';

                    // 创建 <a> 元素
                    const link = document.createElement('a');
                    // link.href = storeInfo.link;

                    //创建 <img> 元素
                    const img = document.createElement('img');
                    
                    

                    // 设置 <img> 元素的 src 属性为图片 URL
                    img.src = 'http://101.42.178.149/'+storeInfo.image;

                    // 将 <img> 元素添加到 <a> 元素中
                    link.appendChild(img);

                    // 将 <a> 元素添加到 <div class="imgshow"> 元素中
                    imgDiv.appendChild(link);

                    // 创建 <div class="text"> 元素
                    const textDiv = document.createElement('div');
                    textDiv.className = 'text';

                    // 创建 <h3> 元素
                    const heading = document.createElement('h3');

                    // 创建 <a> 元素
                    const storeLink = document.createElement('a');
                    // storeLink.href = storeInfo.link;
                    storeLink.textContent = storeInfo.name;

                    // 将 <a> 元素添加到 <h3> 元素中
                    heading.appendChild(storeLink);

                    // 创建 <div class="subtit"> 元素
                    const subtitDiv = document.createElement('div');
                    subtitDiv.className = 'subtit';

                    // 创建 <span class="add"> 元素
                    const addSpan = document.createElement('span');
                    addSpan.className = 'add';

                    // 创建 <i class="iconfont icondizhi"> 元素
                    const addIcon = document.createElement('i');
                    addIcon.className = 'iconfont icondizhi';

                    // 创建文本节点
                    const addText = document.createTextNode(storeInfo.store);

                    // 将 <i class="iconfont icondizhi"> 元素和文本节点添加到 <span class="add"> 元素中
                    addSpan.appendChild(addIcon);
                    addSpan.appendChild(addText);

                    // 创建 <span class="time"> 元素
                    const timeSpan = document.createElement('span');
                    timeSpan.className = 'time';

                    // 创建 <i class="iconfont icon59"> 元素
                    const timeIcon = document.createElement('i');
                    timeIcon.className = 'iconfont';
                    timeIcon.textContent = '￥'
                    // 创建文本节点
                    const timeText = document.createTextNode(storeInfo.price);

                    
                    
                    // timeSpan.appendChild(addBuy)

                    // 将 <i class="iconfont icon59"> 元素和文本节点添加到 <span class="time"> 元素中
                    timeSpan.appendChild(timeIcon);
                    timeSpan.appendChild(timeText);

                    // 将 <span class="add"> 元素和 <span class="time"> 元素添加到 <div class="subtit"> 元素中
                    subtitDiv.appendChild(addSpan);
                    subtitDiv.appendChild(timeSpan);

                    // 将 <h3> 元素和 <div class="subtit"> 元素添加到 <div class="text"> 元素中
                    textDiv.appendChild(heading);
                    textDiv.appendChild(subtitDiv);

                    // 将 <div class="imgshow"> 元素和 <div class="text"> 元素添加到 <li> 元素中
                    li.appendChild(imgDiv);
                    li.appendChild(textDiv);
                    if(window.localStorage.getItem('type')=='Pa'){
                        const addBuy = document.createElement('button')
                        addBuy.textContent = '加入购物车'
                        addBuy.className = 'buyCarButton hidejrgwc custom-btn btn-12'
                        addBuy.innerHTML = '<span>选我!</span><span>加入购物车</span>'
                        addBuy.style.marginBottom = '15px'
                        addBuy.style.marginLeft = '220px'
                        addBuy.addEventListener('click',addBuyCar)
                        li.appendChild(addBuy)
                    }

                    // 将 <li> 元素添加到 storeElements 数组中
                    storeElements.push(li);
                }

                return storeElements;
            }

          

            



            //渲染商品盒模型
            function generateStoreElements(storeInfoArray) {
                
                const storeElements = [];

                for (const storeInfo of storeInfoArray) {
                    // 创建 <li> 元素
                    const li = document.createElement('li');

                    // 设置 <li> 元素的 data 属性
                    li.setAttribute('data-name', storeInfo.name);
                    li.setAttribute('data-Location', storeInfo.store);
                    li.setAttribute('data-Category', storeInfo.category);
                    renderLocation(storeInfo.store)
                    
                    // 创建 <div class="imgshow"> 元素
                    const imgDiv = document.createElement('div');
                    imgDiv.className = 'imgshow';

                    // 创建 <a> 元素
                    const link = document.createElement('a');
                    // link.href = storeInfo.link;

                    //创建 <img> 元素
                    const img = document.createElement('img');
                    
                    

                    // 设置 <img> 元素的 src 属性为图片 URL
                    img.src = 'http://101.42.178.149/'+storeInfo.image;

                    // 将 <img> 元素添加到 <a> 元素中
                    link.appendChild(img);

                    // 将 <a> 元素添加到 <div class="imgshow"> 元素中
                    imgDiv.appendChild(link);

                    // 创建 <div class="text"> 元素
                    const textDiv = document.createElement('div');
                    textDiv.className = 'text';

                    // 创建 <h3> 元素
                    const heading = document.createElement('h3');

                    // 创建 <a> 元素
                    const storeLink = document.createElement('a');
                    // storeLink.href = storeInfo.link;
                    storeLink.textContent = storeInfo.name;

                    // 将 <a> 元素添加到 <h3> 元素中
                    heading.appendChild(storeLink);

                    // 创建 <div class="subtit"> 元素
                    const subtitDiv = document.createElement('div');
                    subtitDiv.className = 'subtit';

                    // 创建 <span class="add"> 元素
                    const addSpan = document.createElement('span');
                    addSpan.className = 'add';

                    // 创建 <i class="iconfont icondizhi"> 元素
                    const addIcon = document.createElement('i');
                    addIcon.className = 'iconfont icondizhi';

                    // 创建文本节点
                    const addText = document.createTextNode(storeInfo.store);

                    // 将 <i class="iconfont icondizhi"> 元素和文本节点添加到 <span class="add"> 元素中
                    addSpan.appendChild(addIcon);
                    addSpan.appendChild(addText);

                    // 创建 <span class="time"> 元素
                    const timeSpan = document.createElement('span');
                    timeSpan.className = 'time';

                    // 创建 <i class="iconfont icon59"> 元素
                    const timeIcon = document.createElement('i');
                    timeIcon.className = 'iconfont';
                    timeIcon.textContent = '￥'
                    // 创建文本节点
                    const timeText = document.createTextNode(storeInfo.price);

                    
                    
                    // timeSpan.appendChild(addBuy)

                    // 将 <i class="iconfont icon59"> 元素和文本节点添加到 <span class="time"> 元素中
                    timeSpan.appendChild(timeIcon);
                    timeSpan.appendChild(timeText);

                    // 将 <span class="add"> 元素和 <span class="time"> 元素添加到 <div class="subtit"> 元素中
                    subtitDiv.appendChild(addSpan);
                    subtitDiv.appendChild(timeSpan);

                    // 将 <h3> 元素和 <div class="subtit"> 元素添加到 <div class="text"> 元素中
                    textDiv.appendChild(heading);
                    textDiv.appendChild(subtitDiv);

                    // 将 <div class="imgshow"> 元素和 <div class="text"> 元素添加到 <li> 元素中
                    li.appendChild(imgDiv);
                    li.appendChild(textDiv);
                    if(window.localStorage.getItem('type')=='Pa'){
                        const addBuy = document.createElement('button')
                        addBuy.textContent = '加入购物车'
                        addBuy.className = 'buyCarButton hidejrgwc custom-btn btn-12'
                        addBuy.innerHTML = '<span>选我!</span><span>加入购物车</span>'
                        addBuy.style.marginBottom = '15px'
                        addBuy.style.marginLeft = '220px'
                        addBuy.addEventListener('click',addBuyCar)
                        li.appendChild(addBuy)
                    }

                    // 将 <li> 元素添加到 storeElements 数组中
                    storeElements.push(li);
                }

                return storeElements;
            }

            dataBuy = {
                token:window.localStorage.getItem('token'), 
                store:'', 
                name:'',
                port:'', 
                time:''
            }

            function addBuyCar(){
                serTitle = document.querySelector('.filter-block.w100.ser-title')
                serTitle.style.display='block';
                liElement = this.parentElement;

                dataBuy.store = liElement.getAttribute('data-Location')
                dataBuy.name = liElement.getAttribute('data-name')
                console.log('商店是'+dataBuy.store)
                console.log('名称是'+dataBuy.name)
            }

            refineBuyBtn = document.getElementById('refineBuy')

            refineBuyBtn.addEventListener('click',function(){
                dataBuy.port=document.getElementById('buyPlace').value
                dataBuy.time=document.getElementById('buyTime').value
                var xhr = new XMLHttpRequest();
                console.log('我进入renderShop了')
                xhr.open("POST", "http://101.42.178.149/api/shop/buyProducts",false);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            response = JSON.parse(xhr.responseText);
                            console.log(response.content)
                            alert('购买成功!!!')
                            location.reload();
                        }
                    }
                };
                xhr.send(JSON.stringify(dataBuy));
            })





        //     var storeInfoArray = []
        //     var xhr = new XMLHttpRequest();
        //     xhr.open("POST", "http://101.42.178.149/api/shop/showProducts", true);
        //     xhr.setRequestHeader("Content-Type", "application/json");
        //     xhr.onreadystatechange = function() {
        //     if (xhr.readyState === XMLHttpRequest.DONE) {
        //         if (xhr.status === 200) {
        //         // 请求成功
        //             var responseData = JSON.parse(xhr.responseText);
        //             storeInfoArray = responseData.details;


        //             //addNew////////////////////
        //             for (const storeInfo of storeInfoArray) {
        //                 renderLocation(storeInfo.store);
        //             }
        //             ///////////////////////////


        //             const targetElement = document.getElementById('shop-list-data');

        //             // 生成HTML元素节点列表
        //             const generatedElements = generateStoreElements(storeInfoArray);

        //             // 将生成的块插入到目标位置中
        //             for (const element of generatedElements) {
        //             targetElement.appendChild(element);
        //             }

        //             buyCarButtons = document.querySelectorAll('.buyCarButton')
        //             buyCarButtons.forEach(button => {
        //                 console.log('购物车按钮进入!!!')
        //                 console.log(button)
        //                 button.addEventListener('click', function() {
        //                     // 在这里编写您想要执行的函数代码
        //                     button.style.color='red'
        //                     console.log('点击成功')
        //                 });
        //             });
        //         }
        //     };
        // }
        //     xhr.send();
       
            
       

        

    
    

        </script>

        <!-- footer and right fixed -->
        <footer class="footer inner-20">
    <div class="footer-box m-width-1400 fixed">
            <div class="flogo">
                <a href="/sfsairport/index.html" class="flogo-img">
                    <!-- <img src="/sfsairport/xhtml/./images/jtlogo.svg" /> -->
                    <img src="/sfsairport/xhtml/./images/layer-logo.png" />
                </a>
                <p>
                    <i class="iconfont icondianhua"></i>
                    <a href="tel:121-12112121">服务咨询热线：121-12112121</a>
                    <a href="tel:121-3211232222">服务投诉电话：121-3211232222</a>
                </p>
                <p> <i class="iconfont iconyouxiang"></i><a href="mailto:FWYX@zhihuihangban.com">服务投诉邮箱： FWYX@zhihuihangban.com</a></p>
            </div>
            <div class="foot-nav">
                <ul class="fixed">
                    <li>
                        <div class="z-code">
                    <h3><a href="javascript:;">关注我们</a></h3>
                    <div class="f-ewm">
                        <img src="/sfsairport/xhtml/./images/ewm.png"/>
                        <p>智慧机场发布<br>创作者团队</p>
                    </div>
                </div>
                <div class="z-code">
                    <h3><a>&nbsp;</a></h3>
                    <div class="f-ewm">
                        <img src="/sfsairport/xhtml/./images/iewm.png"/>
                        <p>后端高手</p>
                    </div>
                </div>
                    </li>
    
                    <li>
                        <h3><a href="javascript:;">客户服务</a></h3>
                        <dl>
                            <dd>
                                <a href="##"  target="_self">在线客服</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="onlinemsg">意见反馈</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">联系我们</a>
                            </dd>
                        </dl>
                    </li>
                    <li>
                        <h3><a href="##"  target="_self">我们的座右铭</a></h3>
                        <div class="line"></div>
                        <dl>
                            <dd>
                                <a href="##"  target="_self">德才兼备</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">知行合一</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">究天人之际</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">通内外之变</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">行一家之航</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">竭尽服务</a>
                            </dd>
                            <dd>
                                <a href="##"  target="_self">一切为您</a>
                            </dd>
                        </dl>
                    </li>
                </ul>
            </div>
            <!-- nav--end -->
    
        </div>
    <!-- footer--box -->
    <div class="footer-copy  inner-20">

         

    </div>
    <!-- copy--end -->
</footer>
<div class="right-fix">
    <!-- <a href="https://znkf-im.sfsairport.com/user-iframe.html?channel_key=0a7e572d89773315ca55ba49e8e035eb&init=1" class="kefu" target = "_blank">
        <i class="iconfont iconkefu"></i>
    </a> -->
    <a href="javascript:;" id="toTop">
        <i class="iconfont iconzhiding"></i>
    </a>
</div>
<!-- right-fix--end -->

<!-- 表单弹窗 -->
<div class="layer_notice">
<a class="layer-not-close layer-not-close1">
    <i class="iconfont iconguanbi1"></i>
</a>
<div class="tit"><img src="/sfsairport/xhtml/./images/layer-logo.png" /></div>
<h3>我们很高兴收到您的反馈！</h3>
<form class="layui-form"  action="/u/yjx/ajaxAdd" method="post">
    <!-- <div class="layui-form-item wrap">
        <label class="layui-form-label">反馈类型</label>
        <div class="layui-input-block">
            <select name="interest" lay-filter="aihao">
                <option value="0">提个建议</option>
                    <option value="1">提出建议1</option>
                    <option value="3">提出建议2</option>
                    <option value="4">提出建议3</option>
            </select>
        </div>
    </div> -->
    <div class="form-twoblock">
        <div class="layui-form-item youname" style="margin-left: 0px;">
            <label class="layui-form-label" style="margin-left: 0px;">您的名字<em class="error">*</em></label>
            <div class="layui-input-block" style="width: 479px;height: 38px;">
                <input type="text" name="username" placeholder="" autocomplete="off" class="layui-input" style="margin-left: 0px;">
            </div>
        </div>
        <div class="layui-form-item yousex" style="margin-left: 0px;"> 
            <label class="layui-form-label" style="margin-left: 0px;">性别</label>
            <div class="layui-input-block">
                <input type="radio" name="sex" value="女士" title="女士" checked="">
                <input type="radio" name="sex" value="先生" title="先生">

            </div>
        </div>
    </div>
    <div class="layui-form-item" style="width: 689px;">
        <label class="layui-form-label" style="margin-left: 0px;">您的联系方式<em class="error">*</em></label>
        <div class="layui-input-block">
            <input style="margin-left: 0px;" type="text" lay-verify="Information" name="phoneNum" placeholder="例如QQ、电子邮箱、手机号码" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item" style="width: 690px;">
        <label class="layui-form-label" style="margin-left: 0px;">留言<em class="error">*</em></label>
        <div class="layui-input-block">
            <textarea type="text" name="content" class="layui-textarea"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="reset" class="layui-btn layui-btn-primary close-lay-btn">取消</button>
            <button class="layui-btn" lay-submit="" lay-filter="formDemo">提交</button>
        </div>
    </div>
</form>
</div>
<!-- 表单提交成功以后的提示 -->
<div class="layer_notice_alert">
<a class="layer-not-close layer-not-close2">
    <i class="iconfont iconguanbi1"></i>
</a>
<div class="tit"><img src="/sfsairport/xhtml/./images/layer-logo.png" /></div>
<h3>感谢您提供反馈！</h3>
<p>我们非常感谢您的时间和努力，帮助我们更好地为您服务。</p>
<button class="layui-btn layer-not-close2">返回网站</button>
</div>

<script>

layui.use(['layer', 'form'], function () {
    var layer = layui.layer,
        form = layui.form;
    // $('.right-fix .kefu').click(function(){
    //     formWrite();
    // });
    $('.onlinemsg').click(function(){
        formWrite();
    });
    //表单弹窗
    var indexLayer=null;
    function formWrite(){
        indexLayer = layer.open({
            type: 1,
            shade: 0.6,
            closeBtn: 0,
            skin: 'notice-class',
            area: 'auto',
            maxWidth:800,
            title: false, //不显示标题
            content: $('.layer_notice'), //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
            success: function (layero, index) {

            }
        });
    }

    //提交成功以后的弹窗
    var alertLayer=null;
    function formSuccess(){
        alertLayer = layer.open({
            type: 1,
            shade: 0.6,
            closeBtn: 0,
            skin: 'notice-class',
            area: ['auto'],
            maxWidth:800,
            title: false, //不显示标题
            content: $('.layer_notice_alert'), //捕获的元素，注意：最好该指定的元素要存放在body最外层，否则可能被其它的相对元素所影响
            success: function (layero, index) {

            }
        })
    }

    //自定义验证规则
    form.verify({
        Information: function(value){
            if(value.length < 5){
                return 'Information至少得2个字符';
            }
        }

    });
    //监听提交
     form.on('submit(formDemo)', function(data){

        data.field.token = window.localStorage.getItem('token')
        console.log(JSON.stringify(data.field),'最终的提交信息');
        layer.close(indexLayer);
        var jsonData = JSON.stringify(data.field)
      $.ajax({
        url:"http://101.42.178.149/api/extra/submitProblem",
        type:"post",
        data:jsonData,
        dataType:"json",
        success:function(data){console.log(data);}
      
      })
      
        formSuccess();
        return false;
    });
    //弹窗一的关闭效果
    $('.layer-not-close1,.close-lay-btn').click(function(){
        layer.close(indexLayer);
    });
    //弹窗二的关闭效果
    $('.layer-not-close2').click(function(){
        layer.close(alertLayer);
    });
});

</script>

<script type="text/javascript">
    //请配置domain 和 fullUrl 参数，user为test是本机测试环境，正式环境改为official,输出位置id为visitCount
    var visitConfig = {
            api : {
                test : '',
                official  : '/u/visit/count',
                use : 'official',
                domain : 'http://www.sfsairport.com',
                fullUrl: 'http://www.sfsairport.com/sfsairport/index.html',
                showId : 'fwl'
            }
    };
</script>
<script src="/u/res/skin/visits/count.js"></script>
<!-- <script src="/sfsairport/xhtml/js/sfsairport.js"></script> -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b6bc2190e8acb64154f3ec1c5c8a45b3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        <!-- footer and right fixed end -->
    </div>

    <script type="text/javascript" src="/sfsairport/xhtml/js/aos.js"></script>

    <script type="text/javascript" src="/sfsairport/xhtml/js/index.js"></script>
    <!-- <script src="/sfsairport/xhtml/js/shop.js"></script> -->
    <script>
        AOS.init({
            easing: 'ease-out-back',
            duration: 1000
        });
        layui.use('form', function () {
            var form = layui.form;
        });
    </script>

    <script src="/sfsairport/xhtml/js/type.js"></script>
   
</body>

</html>