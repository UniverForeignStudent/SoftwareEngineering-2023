# 需求规格说明书

------

## 1 简介

------

### 1.1 目的

随着旅游业的蓬勃发展、机场的运营需求不断增加。为了更好地服务管理者、航司、旅客、商家和机场工作人员，需要一套智慧机场系统来管理和协调机场的各项工作。

------

### 1.2 范围

实现提供航班信息、旅客信息、报修功能、表单管理、商家入驻、停车管理、客服功能等基础功能以及降价通知等针对顾客的人性化功能。

------

## 2 产品整体描述

------

### 2.1 产品描述

本项目采用瀑布式开发，为管理者、航司、旅客、商家和机场工作人员提供对应机场相关服务的智慧机场系统

------

### 2.2 产品功能

提供顾客购票、查票、购买商品、预定车位的服务；提供管理者管理航班信息、反馈机场保修、打印财务报表的服务；提供航司添加、修改、删除航班信息的服务；提供机场工作人员提交报修的服务；提供商家管理商品、送货至登机口的服务。

------

## 3. 需求说明

------

### 3.1 模型化需求

------

#### 3.1.1 用户需求

##### 用例图

![image-20230419224845944](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230419224845944.png)

##### 系统顺序图

###### 航班信息功能：

![image-20230420210232387](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230420210232387.png)

###### 客服系统：

![image-20230420210304443](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230420210304443.png)

###### 停车系统：

![image-20230420210333693](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230420210333693.png)

###### 报修功能：

![image-20230420210523269](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230420210523269.png)

###### 商家入驻功能：

![系统顺序图_商家入驻功能](C:\Users\MTY\Desktop\软工\开发书\需求规格说明书\images\系统顺序图_商家入驻功能.jpg)

###### 表单管理功能：

![image-20230420210800344](C:\Users\MTY\AppData\Roaming\Typora\typora-user-images\image-20230420210800344.png)

------

#### 3.1.2 领域模型

##### 概念类图



------

#### 3.1.3 系统操作合约

##### 3.1.3.1 商家入驻

- 操作签名：addNewProduct(p : Product)
- 交叉引用：商家系统
- 前置条件：用户已登录且注册时登记为商家型
- 后置条件：
  - 创建了Product类的实例p（创建实例）
  
  - 该商家实例的productList属性(数组型成员)加入p实例。
  
- 操作签名：sendOrder(o : Order)
- 交叉引用：商家系统
- 前置条件：用户已登录且注册时登记为顾客型
- 后置条件：

  - 创建了Order类的实例o（创建实例）
  - 该商家实例的OrderList属性(数组型成员)加入o实例。

- 操作签名：checkList()
- 交叉引用：商家系统
- 前置条件：用户已登录且注册时登记为商家型
- 后置条件：

  - 返回给商家型用户所有未处理订单记录组成的表单

- 操作签名：sendPrduct(Order o)
- 交叉引用：商家系统
- 前置条件：用户已登录且注册时登记为商家型
- 后置条件：

  - 该商家实例的productList属性(数组型成员)去除o实例。
  - 顾客实例的OrderList属性去除o实例

- 操作签名：checkOrder()
- 交叉引用：商家系统
- 前置条件：用户已登录且注册时登记为顾客型
- 后置条件：
  - 返回该顾客实例的OrderList属性形成的表单

##### 3.1.3.2 报修服务

- ​	操作签名：submitRepairRequest(RepairRequest request) 

- ​	交叉引用：无

- ​	前置条件：报修需求对象的设备信息、报修原因和报修时间不能为空。

- ​	后置条件：提交报修需求后，系统会将报修请求对象保存到合约中。   

- ​    操作签名：viewRepairRequests() public view returns (RepairRequest[] memory);
- ​	交叉引用：无

- ​	前置条件：无

- ​	后置条件：返回已提交的所有报修请求对象的列表。


- ​    操作签名：approveRepairRequest(RepairRequest request)
- ​    交叉引用：无
- ​    前置条件：报修需求对象的设备信息、报修原因和报修时间不能为空。
- ​    后置条件：根据管理员的处理结果，更新报修请求对象的状态。

##### 3.1.3.3 停车服务

- 操作签名：enterFightNumber(int num)
- 交叉引用：航班人数
- 前置条件：有新的旅客购买相应航班
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - f实例的number属性被增加了num（修改为属性）。

- 操作签名：applyforFightlnfo(int ID)
- 交叉引用：returnFlightInfo
- 前置条件：航班信息系统向信息库申请
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 在信息库中查找与传入的ID相匹配的实例。(查找实例)

- 操作签名：returnFlightInfo(Flight：f)
- 交叉引用：cselectDate
- 前置条件：收到信息查询请求
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 在信息库中查找与传入的ID相匹配的实例。(查找实例)
  - 将f利用returnFlightInfo传递返还。(返回实例)

- 操作签名：cselectDate(Date：date)
- 交叉引用：returnOptionalTimePeriod
- 前置条件：旅客向航班信息系统提出查询要求
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 查找与date相匹配的实例f。(查找实例)
  - 将f利用returnOptionalTimePeriod传递返还。(返回实例)

- 操作签名：selectTimePeriod&Passenger(Time：time，Person：person)
- 交叉引用：returnTimePeriod&Passenger
- 前置条件：旅客向航班信息系统提出查询要求
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 查找与time和person相匹配的实例f。(查找实例)

- 操作签名：submitOrder(Order：order)
- 交叉引用：returnPaymentlnfo
- 前置条件：旅客向航班库提出订单要求
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 查找与order相匹配的实例f。(查找实例)

- 操作签名：returnPaymentlnfo(Pay：pay)
- 交叉引用：submitOrder
- 前置条件：旅客向航班库提出订单要求
- 后置条件：
  - 创建了Fight类的实例f（创建实例）
  - 查找与order相匹配的实例f。(查找实例)
  - 返还对应的pay(返还参数)

- 操作签名：cancelOrder
- 交叉引用：returnPaymentlnfo
- 前置条件：旅客获得了对应的订单信息
- 后置条件：
  - 创建了Pay类的实例p（创建实例）
  - 在支付库中匹配对应的实例p1。(匹配实例)
  - 在支付库中删除(删除实例)

- 操作签名：orderCancelledSuccessfully
- 交叉引用：cancelOrder
- 前置条件：旅客提出了删除的请求
- 后置条件：
  - 创建了Pay类的实例p。（创建实例）
  - 在支付库中匹配对应的实例p1。(匹配实例)
  - 发现无对应实例匹配，返还成功信息。(返还信息)

- 操作签名：payfortheOrder
- 交叉引用：returnPaymentlnfo
- 前置条件：旅客获得了对应的订单信息
- 后置条件：
  - 创建了Pay类的实参p（创建实参）
  - 支付与p相匹配的实参p1。(匹配实参)

- 操作签名：orderPayedSuccessfully
- 交叉引用：payfortheOrder
- 前置条件：旅客支付了对应的订单信息
- 后置条件：
  - 创建了Pay类的实参p（创建实参）
  - 支付与p相匹配的实参p1。(匹配实参)
  - 发现无匹配信息，返回成功。(回传信息)

- 操作签名：inquireParkingSpace
- 交叉引用：停车场车位空余
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了Parking类的实参p（创建实参）
  - 查询与p相匹配的实参p1。(匹配实参)

- 操作签名：returnParkingSpacelnfo
- 交叉引用：inquireParkingSpace
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了Parking类的实参p（创建实参）
  - 查询与p相匹配的实参p1。(匹配实参)
  - 返还对应信息。(信息返还)

- 操作签名：applyforParkingSpacelfo
- 交叉引用：inquireParkingSpace
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了Parking类的实参p（创建实参）
  - 在信息库中查询与p相匹配的实参p1。(匹配实参)

- 操作签名：returnParkingSpacelnfo
- 交叉引用：applyforParkingSpacelfo
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了Parking类的实参p（创建实参）
  - 在信息库中查询与p相匹配的实参p1。(匹配实参)
  - 返还对应匹配的信息。(信息返还)

- 操作签名：selectFreeParkingSpace(FreeParkingSpace：fps)
- 交叉引用：FreeParkingSpace
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了FreeParkingSpace类的实参fps（创建实参）
  - 在信息库中查询与fps相匹配的实参fps。(匹配实参)

- 操作签名：selectFreeTimePeriod(FreeTimePeriod：ftp)
- 交叉引用：FreeTimePeriod
- 前置条件：旅客提出了查询信息
- 后置条件：
  - 创建了FreeParkingSpace类的实参fps（创建实参）
  - 在信息库中查询与fps相匹配的实参fps。(匹配实参)

------

### 3.2 结构化自然语言需求

------

#### 3.2.1航班信息模块

用户故事

作为一家航司的管理员，我想要在系统上发布航班信息，包括价格、起飞日期时间、航班号等，以便于旅客查询和购买机票。

交互流程

基本流程{
​	 1.（系统）管理员登录系统，并进入航班信息管理页面。 
​	 2.（系统）管理员输入航班信息，包括价格、起飞日期时间、航班号等。
​	 3.（系统）系统将航班信息保存到数据库中。
}

扩展流程 { 

（可选）\*a、航司可以发布新的航班信息
​		（用户）1、航司在系统上发布新的航班信息，包括价格、起飞日期时间、航班号等
​		（系统）2、系统生成包括具体登机口信息的时刻表
​		（系统）3、系统检查同时间是否已经有2架飞机同时起飞
​			（异常处理）3a、同时间已经有2架飞机同时起飞
​				（系统）1、系统提示航司重新选择起飞时间或登机口
​	（可选）\*b、航司可以调整航班价格
​		（用户）1、航司在系统上选择需要调整价格的航班
​		（用户）2、航司调整航班价格
​		（系统）3、系统更新航班价格信息
​	（可选）\*c、航司可以取消航班
​		（用户）1、航司在系统上选择需要取消的航班
​		（系统）2、系统向航司提示是否确认取消航班
​		（用户）3、航司确认取消航班
​		（系统）4、系统通知旅客该航班取消
​	（可选）\*d、为确保安全，同一个跑道的飞机起落前后30min不应该安排其他飞机
​		（系统）1、系统检查同一跑道的飞机的起落时间
​			（异常处理）1d、同一跑道的飞机的起落时间有冲突
​				（系统）1、系统提示航司重新选择起飞时间或登机口
​	（可选）\*e、旅客可以查询航班信息
​		（用户）1、旅客在系统上输入航班号或起降地点查询航班信息
​		（系统）2、系统返回该航班的相关信息，包括价格、起飞日期时间、登机口等 }
}

非功能需求{
​	1.系统应该具有高可用性，避免出现系统崩溃或其他故障导致航班信息无法发布。
​	 2.系统应该具有数据安全性，防止未经授权的用户篡改或删除航班信息。}

------

#### 3.2.2旅客信息模块

用户故事

作为一位旅客，我想要在系统上查询订票信息是否成功、生成电子机票等，并得知具体的登机口和航站楼信息，临近起飞还希望受到起飞通知，系统还可以提供行李跟踪功能，帮助我及时了解行李的位置和状态。

交互流程

基本流程{
​	1.（用户）旅客登录系统，并进入个人信息页面。 
​	2.（用户）旅客在个人信息页面查询订票信息，包括票号、航班信息、登机口和航站楼等。
​	 3.（系统）系统提供生成电子机票的功能，并生成电子机票供旅客下载或打印。
​	 4.（用户）旅客可以在系统上进行行李追踪，并得知行李位置和状态。 
​	5.（系统）系统提供起飞通知功能，系统会在航班起飞前向旅客发送起飞通知。
} 

扩展流程{
​	（可选）\*a、旅客在查询订票信息时，输入相关信息可能会出现错误
​ 		（系统）1、系统检测到错误信息
​		 (系统）2、系统提示旅客输入正确的信息
​ 		（用户）3、旅客输入正确的信息，系统返回正确的订票信息
​	（可选）\*b、旅客可以选择生成电子机票
​		（用户）1、旅客选择生成电子机票
​ 		 （系统）2、系统生成电子机票并发送到旅客提供的电子邮箱或手机上
​	（可选）\*c、旅客在查询具体登机口和航站楼信息时，可能会出现错误
​		 （系统）1、系统检测到错误信息
​		 （系统）2、系统提示旅客输入正确的信息
​		（用户）3、旅客输入正确的信息，系统返回正确的登机口和航站楼信息
​	（可选）\*d、临近起飞时，旅客会收到起飞通知
​ 		 （系统）1、系统检测到即将起飞的航班
​ 		 （系统）2、系统向旅客发送起飞通知
​	（可选）\*e、系统提供行李跟踪功能
​		 （用户）1、旅客输入行李信息或机票号码
​ 		  （系统）2、系统查询行李信息或机票号码对应的行李信息
​ 		  （系统）3、系统显示行李位置和状态
​    		（异常处理）3a、无法查询到行李信息或机票号码对应的行李信息
​            	  	（系统）1、系统向旅客反馈无法查询到行李信息
​           	     （用户）2、旅客可能会提供正确的行李信息或机票号码重新查询
}

非功能需求{
​	1.系统应该具有高可用性，避免出现系统崩溃或其他故障导致旅客信息无法查询。 
​	2.系统应该具有数据安全性，保护旅客敏感信息不被未经授权的用户获取。
​	3.系统应该具有高性能，提供快速的查询和生成电子机票的服务。
} 

------

#### 3.2.3报修功能

用户故事

作为一名机场工作人员，我需要在系统上报修设备和设施，以便于管理员审批和处理维修。

交互流程

基本流程{
​	1.（用户）机场工作人员在系统上填写报修单，包括设备或设施的名称、具体位置和问题描述。
​	2.（系统）系统将报修单保存到数据库，并自动分配给相应的维修人员。
​	3.（系统）系统向维修人员发送通知并提供报修单相关信息。
​	4.（用户）维修人员收到通知后，查看报修单的详细信息并评估问题的紧急程度。
​	5.（系统）维修人员在系统上更新报修单状态，并在维修过程中提供相应的反馈。
​	6.（用户）当维修完成时，维修人员将报修单标记为已完成，并在系统上提供维修报告。
}

扩展流程{
​	（可选）\*a、机场工作人员可以选择是否紧急报修
​		（系统）1a、若机场工作人员选择紧急报修，则系统自动将该报修标记为紧急，并向管理员发送紧急报修通知
​	（可选）\*b、机场工作人员可以选择是否需要现场检查
​		（系统）1b、若机场工作人员选择需要现场检查，则系统自动安排相关维修人员进行现场检查，并在报修信息中记录现场检查的结果
​		（异常处理）2a、若机场工作人员没有填写完整的报修信息，则系统向机场工作人员提示错误信息
​		（异常处理）5a、若管理员拒绝报修申请，则系统向机场工作人员和维修人员通知报修申请被拒绝的原因
}

非功能需求{
​	可靠性：系统应该在报修单提交和更新时提供正确和及时的反馈。
​	可用性：系统应该提供简单易用的界面和工具，以便机场工作人员快速提交报修单。
}

------

#### 3.2.4表单管理

用户故事： 

​	作为一个管理员，我想要在系统上管理和查看机场的财务报表和航班时刻表，以便于更好地掌握机场的运营情况。

基本流程{
​	(系统) 1. 管理员登录到系统上。 
​	(系统) 2. 系统将管理员重定向到表单管理页面。
​	(用户) 3. 管理员选择查看报表或时刻表。 
​	(系统) 4. 系统根据管理员的选择呈现相应的表单。
}

扩展流程{
​	(可选) \*a. 管理员想要打印报表或时刻表 
​		(用户) 1. 管理员选择要打印的表单。 
​		(系统) 2. 系统打印选定的表单。 
​	(可选) \*b. 管理员想要导出报表或时刻表 
​		(用户) 1. 管理员选择要导出的表单。 
​		(系统) 2. 系统导出选定的表单并将其保存到指定的位置。
}

非功能需求{
​	1. 安全性：管理员登录到系统时应进行身份验证。
​	2. 可用性：系统应该易于使用和学习，并提供易于理解的界面和操作流程，以避免管理员混淆和错误。
​	3. 性能：系统应具有良好的性能，以便管理员可以快速访问和查看表单信息。
}

------

#### 3.2.5商家入驻

用户故事：

​	作为商家，我希望能够申请入驻机场系统，以便在线销售我的产品。

交互流程

基本流程{
​	（系统）1、系统向商家提供入驻申请表格，商家填写表格并上传相关材料。
​	（系统）2、系统对商家的申请进行审核。
​	（系统）3、如果申请被批准，系统向商家提供入驻机场系统的权限和相关信息。
​	（系统）4、商家可以在系统上上传产品信息和图片，并设置价格和库存。
​	（用户）5、顾客可以在系统上浏览商家的产品，并进行购买。
​	（系统）6、系统将订单信息传递给商家，并提示商家进行订单处理。
​	（系统）7、商家发货后，在系统上更新订单状态和物流信息。
​	（系统）8、系统将更新的订单状态和物流信息传递给顾客。
}

扩展流程{
​	（可选）2a、 如果商家的申请被拒绝，系统应该向商家提供拒绝的原因，并允许商家重新提交申请。
}

非功能需求{
​	1. 系统应该有良好的用户界面和易于使用的操作流程，以帮助商家轻松申请入驻并管理他们的产品。
​	2. 系统应该支持上传和管理大量的产品信息和图片，以满足商家的需求。
​	3. 系统应该保护商家和顾客的敏感信息，例如订单信息和个人身份信息。
}

------

#### 3.2.6停车管理

用户故事： 

​	作为一位旅客，我想要预订机场停车位，以便于我可以停放我的车辆并在机场出行方便。

交互流程

基本流程{
​		1.（用户）旅客进入停车预订页面，选择预订停车位的日期、时间和停车时长。 
​		2.（系统）系统查询当前可用停车位数量，并在可用停车位中为旅客分配停车位，生成订单。
​		3.（用户）旅客通过系统完成支付并收到确认订单。 
​		4.（系统）系统将已预订的停车位信息记录在停车管理系统中。
}

扩展流程{
​		1a.（系统）如果停车位数量不足，系统应该提示旅客无法预订停车位，并为旅客提供其他停车位的选择。 
​		1b.（用户）旅客可以选择取消预订，系统会撤销订单并释放停车位。 
​		2a.（用户）如果旅客提前或延迟停车，可以修改停车预订信息，并重新生成订单。
​		3a.（系统）如果支付失败，系统应该提示旅客重新支付，或者取消订单释放停车位。 
​		3b.（系统）如果支付成功但停车位预订失败，系统应该将已支付金额退还给旅客。 
​		4a.（系统）如果停车位被其他旅客占用或停车时间已到，系统会释放停车位并将其状态更改为“可用”。
} 

非功能需求{
​	1. 可用性：系统应该易于使用和学习，提供易于理解的界面和操作流程，以避免用户混淆和错误。
​	2. 可靠性：系统应该具有高可靠性和稳定性，避免停车预订系统出现故障或停车位预订信息丢失。
​	3. 性能：系统应该具有良好的性能，支持大量用户同时预订停车位，避免系统因停车预订量过大而导致响应延迟或崩溃。
}

------

#### 3.2.7客服功能

用户故事

作为一名旅客，我可以通过客服系统获取帮助或解决问题。

交互流程

基本流程{
​	1. 用户可以在系统中选择联系客服选项。
​	2. 系统提供多种联系方式，如在线聊天、电话、邮件等，用户可以选择一种方式与客服进行联系。
​	3. 用户输入问题描述并发送给客服。
​	4. 客服收到用户的问题后，会尽快回复并提供帮助。
​	5. 用户与客服进行沟通并解决问题。
}

扩展流程{
​		1a. 如果客服无法回答用户的问题，则客服可以将问题转发给相关部门处理。 
​		1b. 如果客服无法及时回复用户，则系统会记录用户的问题，并在客服可以回复时通知客服回复。 
​		1a. 如果用户选择在线聊天，则系统会提供实时聊天功能，保证即时性和高效性。 
​		2b. 如果用户选择电话联系客服，则系统会提供自动语音应答系统来接听用户电话，以提高用户体验。 
​		3a. 如果用户输入的问题不清楚或不完整，则客服会要求用户提供更多信息以便于解决问题。 
​		3b. 如果用户无法清楚描述问题，则客服可以要求用户提供相关图片或截图。 
​		5a. 如果用户对客服提供的帮助不满意，则用户可以要求客服向上级主管投诉或协调问题解决方案。
}

非功能需求{
​	1. 系统应该提供多种联系方式，以满足不同用户的需求。
​	2. 系统应该具有高可用性，以保证用户可以随时联系客服。
​	3. 系统应该具有快速响应能力，以提高用户体验。
​	4. 系统应该具有良好的用户界面和操作流程，以降低用户学习成本。
}